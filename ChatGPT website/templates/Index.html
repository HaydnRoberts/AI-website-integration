<!DOCTYPE html>
<html>
<head>
    <title>JSON Data Display</title>
</head>
<body style="text-align: center; margin: 0 auto; display: block;">
    <h1>AI career coach</h1>
    <input type="text" id="prompt" name="prompt" placeholder="What would you like to ask..." style="width:25%">
    <br>
    <button id="runButton">Run Python Code</button>
    <div id="response"></div>

    <script>
        document.getElementById("runButton").addEventListener("click", function() {
            // Get the user's input from the "prompt" input field
            const userPrompt = document.getElementById("prompt").value;

            // Send the user's input to the server (Python) along with the POST request
            fetch("/AI_test.py", {
                method: "POST",
                body: JSON.stringify({ prompt: userPrompt }), // Send the user's input as JSON
                headers: {
                    "Content-Type": "application/json",
                },
            })
                .then(response => response.json())
                .then(data => {
                    document.getElementById("response").innerText = data.response_content;
                })
                .catch(error => {
                    console.error("Error:", error);
                });
        });
    </script>
</body>
</html>